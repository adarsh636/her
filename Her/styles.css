:root{
	--bg1: #1b2735;
	--bg2: #642b73;
	--accent: #ff6b88;
	--glass: rgba(255,255,255,0.06);
	--muted: rgba(255,255,255,0.85);
}
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
	font-family:'Poppins',sans-serif;
	color:white;
	background: radial-gradient(1200px 600px at 10% 10%, #2b5876 0%, transparent 20%), radial-gradient(900px 500px at 95% 90%, #ff8fa3 0%, transparent 18%), linear-gradient(180deg,var(--bg1),var(--bg2));
	overflow:hidden;
	display:flex;
	align-items:center;
	justify-content:center;
}

/* subtle animated stars */
.sky{position:fixed;inset:0;pointer-events:none;z-index:0}
.sky::before{content:"";position:absolute;inset:-20%;background-image:radial-gradient(circle at 10% 20%, rgba(255,255,255,0.06) 0.5px, transparent 0.6px), radial-gradient(circle at 70% 60%, rgba(255,255,255,0.04) 0.6px, transparent 0.7px);background-size:3px 3px,5px 5px;opacity:0.6;animation:twinkle 8s linear infinite}
@keyframes twinkle{50%{opacity:0.35}100%{opacity:0.6}}

/* Layout container */
.center-wrap{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:18px;padding:28px;width:100%;max-width:720px}

/* Unlock Heart */
.unlock{display:flex;flex-direction:column;align-items:center;gap:10px}
.heart-btn{font-size:72px;line-height:1;width:120px;height:120px;display:grid;place-items:center;border-radius:999px;cursor:pointer;background:linear-gradient(180deg,#fff 0%,#ffeef2 100%);color:#ff6b88;box-shadow:0 20px 40px rgba(0,0,0,0.35),0 6px 18px rgba(255,86,120,0.08);transition:transform .18s ease,box-shadow .18s ease}
.heart-btn:hover{transform:translateY(-6px) scale(1.03);box-shadow:0 28px 60px rgba(0,0,0,0.45)}
.heart-btn:active{transform:scale(0.98)}
.heart-btn.ring{animation:heartbeat .9s ease}
@keyframes heartbeat{0%{transform:scale(1)}40%{transform:scale(1.18)}100%{transform:scale(1)}}
.unlock p{color:var(--muted);max-width:420px}

/* Letter (glass card) */
.letter{backdrop-filter:blur(8px);background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));border-radius:18px;padding:28px;width:100%;max-width:560px;box-shadow:0 12px 40px rgba(0,0,0,0.4);transform-origin:center;opacity:0;transform:translateY(16px) scale(0.98);transition:opacity .5s ease,transform .6s cubic-bezier(.2,.9,.3,1)}
.letter.show{opacity:1;transform:translateY(0) scale(1)}
.letter-inner h1{font-family:'Great Vibes',cursive;font-size:48px;margin-bottom:6px;color:#fff;text-shadow:0 10px 30px rgba(255,86,120,0.08)}
.letter-inner p{min-height:72px;font-size:18px;line-height:1.45;color:var(--muted)}
.letter-inner button{margin-top:14px}

.hidden{display:none}

/* Gallery (scroll snap) */
.gallery{position:relative;display:flex;gap:12px;overflow-x:auto;width:100%;padding:12px 6px;scroll-snap-type:x mandatory}
.gallery img{height:120px;border-radius:12px;object-fit:cover;scroll-snap-align:center;transition:transform .28s ease,box-shadow .28s ease}
.gallery img:hover{transform:scale(1.06);box-shadow:0 12px 36px rgba(0,0,0,0.45)}

/* controls inside letter */
.letter .controls{display:flex;gap:10px;justify-content:center;margin-top:12px}
.letter .controls button{padding:10px 14px;border-radius:999px;border:0;cursor:pointer}
.letter .controls .ghost{background:transparent;border:1px solid rgba(255,255,255,0.08);color:var(--muted)}
.letter .controls .primary{background:linear-gradient(90deg,#ff7b9a,#ffbfd1);color:#fff}

/* Proposal modal card */
.proposal .card{display:flex;flex-direction:column;align-items:center;gap:12px;padding:26px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));box-shadow:0 30px 90px rgba(0,0,0,0.6);max-width:420px}
.proposal h2{font-size:24px;margin:6px 0;color:#fff}
.proposal-actions{display:flex;gap:12px}
.proposal .yes{padding:10px 18px;border-radius:10px;background:linear-gradient(90deg,#ff7b9a,#ffb3c7);color:white}
.proposal .no{padding:10px 18px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.12);color:var(--muted)}

/* Ring animation */
#ringGroup{transform-origin:100px 100px}
.ring-spin{animation:ringSpin 1.2s ease 0s 1}
@keyframes ringSpin{0%{transform:translate(0,0) rotate(0deg) scale(0.95)}50%{transform:translate(0,-6px) rotate(18deg) scale(1.06)}100%{transform:translate(0,0) rotate(360deg) scale(1)}}

/* flower petals */
.flowers{position:relative;width:100%;height:120px;pointer-events:none}
.flower{position:absolute;font-size:22px;opacity:0;transform:translateY(0) rotate(0deg);animation:flowerRise linear forwards}
@keyframes flowerRise{0%{opacity:1;transform:translateY(0) scale(0.8) rotate(0)}100%{opacity:0;transform:translateY(-260px) scale(1.2) rotate(360deg)}}

/* final 'she said yes' message */
.proposal .final{font-size:20px;color:#fff;margin-top:8px}

/* Proposal modal */
.proposal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(0,0,0,0.5), rgba(0,0,0,0.6));backdrop-filter:blur(6px);z-index:60}
.proposal .card{background:var(--glass);padding:30px;border-radius:16px;max-width:520px;text-align:center;box-shadow:0 24px 80px rgba(0,0,0,0.6)}
.proposal h2{font-size:28px;margin-bottom:12px}
.proposal button{padding:12px 20px;border-radius:12px;border:0;cursor:pointer}
.proposal .yes{background:linear-gradient(90deg,#ff7b9a,#ffb3c7);color:white}
.proposal .no{background:transparent;border:1px solid rgba(255,255,255,0.14);color:var(--muted)}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* Floating hearts container */
.hearts{position:fixed;inset:0;pointer-events:none;z-index:30;overflow:hidden}
.floating-heart{position:absolute;font-size:22px;will-change:transform,opacity;transform-origin:center;opacity:0;animation:floatUp linear forwards}
@keyframes floatUp{0%{transform:translate3d(0,0,0) scale(0.9) rotate(0deg);opacity:1}30%{opacity:1}100%{transform:translate3d(var(--tx,0),-520px,0) scale(1.2) rotate(360deg);opacity:0}}

/* small responsive tweaks */
@media (max-width:520px){
	.heart-btn{width:96px;height:96px;font-size:44px}
	.letter-inner h1{font-size:34px}
	.gallery img{height:88px}
}
